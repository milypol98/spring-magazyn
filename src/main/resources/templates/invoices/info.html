<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pl">
<head>
    <meta charset="UTF-8" />
    <title>Szczegóły faktury</title>
    <link rel="stylesheet" th:href="@{/css/invoices.css}" />
</head>
<body>
<header class="page-header">
    <h1>Szczegóły faktury</h1>
    <div class="actions">
        <a th:href="@{/invoices}" class="btn btn-secondary">← Wróć do listy</a>
        <a th:if="${invoice != null}" class="btn btn-primary" th:href="@{|/invoices/${invoice.id}/download|}">Pobierz</a>
    </div>
</header>

<section th:if="${invoice != null}" class="details">
    <dl class="details-grid">
        <dt>ID</dt>
        <dd th:text="${invoice?.id}">1</dd>

        <dt>Nr faktury</dt>
        <dd th:text="${invoice?.invoiceNumber ?: '—'}">FV-001</dd>

        <dt>Nazwa</dt>
        <dd th:text="${invoice?.name ?: '—'}">Acme</dd>

        <dt>Waluta</dt>
        <dd th:text="${invoice?.currency ?: '—'}">PLN</dd>

        <dt>Netto</dt>
        <dd th:text="${invoice?.totalNet ?: '—'}">0.00</dd>

        <dt>VAT</dt>
        <dd th:text="${invoice?.totalVat ?: '—'}">0.00</dd>

        <dt>Brutto</dt>
        <dd th:text="${invoice?.totalGross ?: '—'}">0.00</dd>

        <dt>Dodano</dt>
        <dd th:text="${#temporals.format(invoice?.uploadedAt, 'yyyy-MM-dd HH:mm')}">—</dd>
    </dl>

    <div class="details-actions">
        <form th:action="@{|/invoices/${invoice?.id}/delete|}" method="post"
              onsubmit="return confirm('Czy na pewno usunąć tę fakturę?');">
            <button type="submit" class="btn btn-danger">Usuń</button>
        </form>
    </div>
</section>

<section th:if="${invoice == null}" class="empty-state">
    Nie znaleziono faktury.
</section>

<script th:src="@{/js/invoices.js}"></script>
</body>
</html>