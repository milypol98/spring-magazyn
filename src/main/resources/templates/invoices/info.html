<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pl">
<head>
    <meta charset="UTF-8" />
    <title>Szczegóły faktury</title>
    <link rel="stylesheet" th:href="@{/css/general.css}" />
</head>
<body>
<header class="page-header">
    <nav class="breadcrumbs" aria-label="breadcrumb">
        <a th:href="@{/dashboard}" class="crumb">Strona główna</a>
        <span class="sep">/</span>
        <a th:href="@{/dashboard}" class="crumb">Faktury</a>
        <span class="sep">/</span>
        <span class="crumb current" th:text="${invoice?.id} != null ? 'Edycja faktury' : 'Nowa faktura'">Faktura</span>
    </nav>
    <div class="header-row">
        <h1 class="page-title" th:text="${invoice?.id} != null ? 'Edycja faktury' : 'Nowa faktura'">Lista faktur</h1>
        <div class="header-tools">
            <a th:if="${company?.id != null}" class="btn" th:href="@{|/companies/${company.id}|}">Szczegóły</a>
        </div>
    </div>
</header>

<section th:if="${invoice != null}" class="details">
    <dl class="details-grid">
        <dt>ID</dt>
        <dd th:text="${invoice?.id}">1</dd>

        <dt>Nr faktury</dt>
        <dd th:text="${invoice?.invoiceNumber ?: '—'}">FV-001</dd>

        <dt>Nazwa</dt>
        <dd th:text="${invoice?.name ?: '—'}">Acme</dd>

        <dt>Waluta</dt>
        <dd th:text="${invoice?.currency ?: '—'}">PLN</dd>

        <dt>Netto</dt>
        <dd th:text="${invoice?.totalNet ?: '—'}">0.00</dd>

        <dt>VAT</dt>
        <dd th:text="${invoice?.totalVat ?: '—'}">0.00</dd>

        <dt>Brutto</dt>
        <dd th:text="${invoice?.totalGross ?: '—'}">0.00</dd>

        <dt>Dodano</dt>
        <dd th:text="${#temporals.format(invoice?.uploadedAt, 'yyyy-MM-dd HH:mm')}">—</dd>
    </dl>

    <div class="details-actions">
        <form th:action="@{|/invoices/${invoice?.id}/delete|}" method="post"
              onsubmit="return confirm('Czy na pewno usunąć tę fakturę?');">
            <button type="submit" class="btn btn-danger">Usuń</button>
        </form>
    </div>
</section>

<section th:if="${invoice == null}" class="empty-state">
    Nie znaleziono faktury.
</section>

<script th:src="@{/js/general.js}"></script>
</body>
</html>