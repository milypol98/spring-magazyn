<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/general.css}" />
</head>
<body>

<header class="page-header">
    <nav class="breadcrumbs" aria-label="breadcrumb">
        <a th:href="@{/dashboard}" class="crumb">Strona główna</a>
        <span class="sep">/</span>
        <a th:href="@{|/warehouses/${stockPosition.warehouse.id}|}" class="crumb">Magazyn</a>
        <span class="sep">/</span>
        <span class="crumb current" th:text="${stockPosition.id != null ? 'Edycja pozycji' : 'Nowa pozycja'}">Formularz</span>
    </nav>

    <div class="header-row">
        <h1 class="page-title" th:text="${stockPosition.id != null ? 'Edytuj pozycję' : 'Dodaj nową pozycję'}">Formularz pozycji</h1>
    </div>
</header>

<section class="form-container">
    <form th:action="@{/stock-positions/save}" method="post" th:object="${stockPosition}" class="card form">

        <input type="hidden" th:field="*{id}" />
        <input type="hidden" th:field="*{warehouse.id}" />

        <div class="form-row">
            <label for="name">Nazwa <span class="req">*</span></label>
            <input type="text" id="name" th:field="*{name}" maxlength="150" required />
            <div class="field-hint" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Błąd nazwy</div>
        </div>

        <div class="form-row">
            <label for="category">Kategoria</label>
            <input type="text" id="category" th:field="*{category}" maxlength="100" />
            <div class="field-hint" th:if="${#fields.hasErrors('category')}" th:errors="*{category}">Błąd kategorii</div>
        </div>

        <div class="form-row">
            <label for="description">Opis</label>
            <textarea id="description" th:field="*{description}" maxlength="255"></textarea>
            <div class="field-hint" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">Błąd opisu</div>
        </div>

        <div class="form-row form-row-split">
            <div class="form-group">
                <label for="minStock">Minimalny stan <span class="req">*</span></label>
                <input type="number" id="minStock" th:field="*{minStock}" required />
                <div class="field-hint" th:if="${#fields.hasErrors('minStock')}" th:errors="*{minStock}">Błąd</div>
            </div>
            <div class="form-group">
                <label for="alarmStock">Alarmowy stan <span class="req">*</span></label>
                <input type="number" id="alarmStock" th:field="*{alarmStock}" required />
                <div class="field-hint" th:if="${#fields.hasErrors('alarmStock')}" th:errors="*{alarmStock}">Błąd</div>
            </div>
        </div>

        <div class="form-row">
            <label for="position">Lokalizacja (np. regał/półka)</label>
            <input type="text" id="position" th:field="*{position}" maxlength="50" />
            <div class="field-hint" th:if="${#fields.hasErrors('position')}" th:errors="*{position}">Błąd lokalizacji</div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Zapisz</button>
            <a th:href="@{|/warehouses/${stockPosition.warehouse.id}|}" class="btn btn-secondary">Anuluj</a>
        </div>
    </form>
</section>
</body>
</html>